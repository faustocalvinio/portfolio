---
import SectionContainer from "../components/SectionContainer.astro";
import SectionTitle from "../components/SectionTitle.astro";
import ContactIcon from "../components/icons/ContactIcon.astro";
import LinkButton from "../components/LinkButton.astro";
import GitHub from "../components/icons/GitHub.astro";
import LinkedIn from "../components/icons/LinkedIn.astro";
import Mail from "../components/icons/Mail.astro";
import Download from "../components/icons/Download.astro";
import Phone from "../components/icons/Phone.astro";

const { lang } = Astro.props;

// Textos según el idioma
const CONTACT_TEXTS = {
   es: {
      title: "Contacto",
      subtitle: "¿Hablamos?",
      description:
         "Estoy disponible para nuevas oportunidades laborales, tanto remotas como híbridas en Madrid. Si tienes un proyecto en mente o simplemente quieres conectar, no dudes en contactarme.",
      email: "Envíame un email",
      linkedin: "Conectemos en LinkedIn",
      github: "Mira mi código",
      resume: "Descargar CV",
      phone: "Llamar",
      copyEmail: "Copiar email",
   },
   en: {
      title: "Contact",
      subtitle: "Let's talk?",
      description:
         "I'm available for new job opportunities, both remote and hybrid in Madrid. If you have a project in mind or just want to connect, don't hesitate to contact me.",
      email: "Send me an email",
      linkedin: "Let's connect on LinkedIn",
      github: "Check my code",
      resume: "Download Resume",
      phone: "Call me",
      copyEmail: "Copy email",
   },
};

const texts = CONTACT_TEXTS[lang] || CONTACT_TEXTS.es;
---

<SectionContainer id="contact">
   <div class="flex gap-3 items-center text-black dark:text-white mb-6">
      <ContactIcon />
      <SectionTitle title={texts.title} />
   </div>

   <div class="max-w-4xl mx-auto">
      <!-- Descripción -->
      <div class="mb-8">
         <p
            class="text-lg text-gray-600 dark:text-gray-300 leading-relaxed text-left"
         >
            {texts.description}
         </p>
      </div>

      <!-- Grid de contacto -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
         <!-- Email -->
         <div
            class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 group"
         >
            <div class="flex items-center gap-4 mb-4">
               <div
                  class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300"
               >
                  <Mail class="w-6 h-6 text-blue-600 dark:text-blue-400" />
               </div>
               <div>
                  <h4 class="font-semibold text-gray-900 dark:text-white">
                     Email
                  </h4>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                     faustocalvino@gmail.com
                  </p>
               </div>
            </div>
            <div class="flex gap-2">
               <LinkButton href="mailto:faustocalvino@gmail.com">
                  <Mail class="w-4 h-4" />
                  {texts.email}
               </LinkButton>
            </div>
         </div>

         <!-- LinkedIn -->
         <div
            class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 group"
         >
            <div class="flex items-center gap-4 mb-4">
               <div
                  class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300"
               >
                  <LinkedIn class="w-6 h-6 text-blue-600 dark:text-blue-400" />
               </div>
               <div>
                  <h4 class="font-semibold text-gray-900 dark:text-white">
                     LinkedIn
                  </h4>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                     faustocalvinio
                  </p>
               </div>
            </div>
            <LinkButton href="https://www.linkedin.com/in/faustocalvinio/">
               <LinkedIn class="w-4 h-4" />
               {texts.linkedin}
            </LinkButton>
         </div>

         <!-- GitHub -->
         <div
            class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 group"
         >
            <div class="flex items-center gap-4 mb-4">
               <div
                  class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300"
               >
                  <GitHub class="w-6 h-6 text-blue-600 dark:text-blue-400" />
               </div>
               <div>
                  <h4 class="font-semibold text-gray-900 dark:text-white">
                     GitHub
                  </h4>
                  <p class="text-sm text-gray-600 dark:text-gray-400">
                     faustocalvinio
                  </p>
               </div>
            </div>
            <LinkButton href="https://github.com/faustocalvinio">
               <GitHub class="w-4 h-4" />
               {texts.github}
            </LinkButton>
         </div>

         <!-- CV/Resume -->
         {
            lang === "es" ? (
               <div class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 group">
                  <div class="flex items-center gap-4 mb-4">
                     <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                        <Download class="w-6 h-6 text-blue-600 dark:text-blue-400" />
                     </div>
                     <div>
                        <h4 class="font-semibold text-gray-900 dark:text-white">
                           Curriculum Vitae
                        </h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">
                           Ver mi currículum profesional en formato PDF
                        </p>
                     </div>
                  </div>
                  <LinkButton href="/CV_Fausto_Calvino.pdf">
                     <Download class="w-4 h-4" />
                     Descargar CV
                  </LinkButton>
               </div>
            ) : (
               <div class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700 hover:shadow-lg transition-all duration-300 group">
                  <div class="flex items-center gap-4 mb-4">
                     <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                        <Download class="w-6 h-6 text-blue-600 dark:text-blue-400" />
                     </div>
                     <div>
                        <h4 class="font-semibold text-gray-900 dark:text-white">
                           Resume
                        </h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">
                           View my professional resume in PDF format
                        </p>
                     </div>
                  </div>
                  <LinkButton href="/Resume_Fausto_Calvino.pdf">
                     <Download class="w-4 h-4" />
                     Download Resume
                  </LinkButton>
               </div>
            )
         }
      </div>
   </div>

   <script>
      document.addEventListener("DOMContentLoaded", function () {
         const copyBtn = document.getElementById("copy-email-btn");
         const toast = document.getElementById("copy-toast");

         if (copyBtn && toast) {
            copyBtn.addEventListener("click", async function () {
               try {
                  await navigator.clipboard.writeText(
                     "faustocalvino@gmail.com",
                  );

                  // Mostrar toast
                  toast.classList.remove("translate-y-full", "opacity-0");
                  toast.classList.add("translate-y-0", "opacity-100");

                  // Ocultar toast después de 3 segundos
                  setTimeout(() => {
                     toast.classList.add("translate-y-full", "opacity-0");
                     toast.classList.remove("translate-y-0", "opacity-100");
                  }, 3000);
               } catch (err) {
                  console.error("Error al copiar email:", err);
               }
            });
         }
      });
   </script>
</SectionContainer>
